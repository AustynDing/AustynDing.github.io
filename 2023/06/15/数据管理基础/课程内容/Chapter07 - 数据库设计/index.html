<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>Chapter07 - 数据库设计 | 丁丁的小窝(*^_^*)</title><meta name="author" content="Austyn Ding,dingding.0825@qq.com"><meta name="copyright" content="Austyn Ding"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="ch37 数据库设计概述 需求分析阶段：综合各个用户的应用需求概念设计阶段： 形成独立于机器特点，独立于各个数据库管理系统产品的概念模式（E-R图）逻辑设计阶段：  首先将E-R图转换成具体的数据库产品支持的数据模型，如关系模型，形成数据库逻辑模式 然后根据用户处理的要求、安全性的考虑，在基本表的基础上再建立必要的视图（View），形成数据的外模式  物理设计阶段：根据数据库管理系统特点和处理的需">
<meta property="og:type" content="article">
<meta property="og:title" content="Chapter07 - 数据库设计">
<meta property="og:url" content="https://austynding.github.io/2023/06/15/%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86%E5%9F%BA%E7%A1%80/%E8%AF%BE%E7%A8%8B%E5%86%85%E5%AE%B9/Chapter07%20-%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1/index.html">
<meta property="og:site_name" content="丁丁的小窝(*^_^*)">
<meta property="og:description" content="ch37 数据库设计概述 需求分析阶段：综合各个用户的应用需求概念设计阶段： 形成独立于机器特点，独立于各个数据库管理系统产品的概念模式（E-R图）逻辑设计阶段：  首先将E-R图转换成具体的数据库产品支持的数据模型，如关系模型，形成数据库逻辑模式 然后根据用户处理的要求、安全性的考虑，在基本表的基础上再建立必要的视图（View），形成数据的外模式  物理设计阶段：根据数据库管理系统特点和处理的需">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://blog-bed0.oss-cn-hangzhou.aliyuncs.com/avatar.jpg">
<meta property="article:published_time" content="2023-06-15T07:02:39.994Z">
<meta property="article:modified_time" content="2023-06-15T07:53:35.660Z">
<meta property="article:author" content="Austyn Ding">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blog-bed0.oss-cn-hangzhou.aliyuncs.com/avatar.jpg"><link rel="shortcut icon" href="https://raw.githubusercontent.com/AustynDing/blog-img/main/fav(2).png"><link rel="canonical" href="https://austynding.github.io/2023/06/15/%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86%E5%9F%BA%E7%A1%80/%E8%AF%BE%E7%A8%8B%E5%86%85%E5%AE%B9/Chapter07%20-%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Chapter07 - 数据库设计',
  isPost: true,
  isHome: false,
  isHighlightShrink: true,
  isToc: true,
  postUpdate: '2023-06-15 15:53:35'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://blog-bed0.oss-cn-hangzhou.aliyuncs.com/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">89</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">11</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/book/"><i class="fa-fw fas fa-book"></i><span> 读书</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="丁丁的小窝(*^_^*)"></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/book/"><i class="fa-fw fas fa-book"></i><span> 读书</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Chapter07 - 数据库设计</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-06-15T07:02:39.994Z" title="发表于 2023-06-15 15:02:39">2023-06-15</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-06-15T07:53:35.660Z" title="更新于 2023-06-15 15:53:35">2023-06-15</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86%E5%9F%BA%E7%A1%80/">数据管理基础</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86%E5%9F%BA%E7%A1%80/%E8%AF%BE%E7%A8%8B%E5%86%85%E5%AE%B9/">课程内容</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">6.4k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>18分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Chapter07 - 数据库设计"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="ch37-数据库设计概述"><a href="#ch37-数据库设计概述" class="headerlink" title="ch37 数据库设计概述"></a>ch37 数据库设计概述</h1><p><img src="https://blog-bed0.oss-cn-hangzhou.aliyuncs.com/1686731636094-9252c6ed-aa8d-48ee-9f97-4477e91df238.png" alt="image.png"></p>
<p><img src="https://blog-bed0.oss-cn-hangzhou.aliyuncs.com/1686731651743-7b9e2e8a-151d-44a3-b540-7d2d7e6b4d17.png" alt="image.png"><br>需求分析阶段：综合各个用户的应用需求<br />概念设计阶段： 形成独立于机器特点，独立于各个数据库管理系统产品的概念模式（E-R图）<br />逻辑设计阶段：</p>
<ol>
<li>首先将E-R图转换成具体的数据库产品支持的数据模型，如关系模型，形成数据库逻辑模式</li>
<li>然后根据用户处理的要求、安全性的考虑，在基本表的基础上再建立必要的视图（View），形成数据的外模式</li>
</ol>
<p>物理设计阶段：根据数据库管理系统特点和处理的需要，进行物理存储安排，建立索引，形成数据库内模式</p>
<h1 id="ch38-需求分析"><a href="#ch38-需求分析" class="headerlink" title="ch38 需求分析"></a>ch38 需求分析</h1><h2 id="需求分析"><a href="#需求分析" class="headerlink" title="需求分析"></a>需求分析</h2><p>需求分析就是分析用户的要求<br />是设计数据库的起点结果<br />是否准确地反映了用户的实际要求，将直接影响到后面各个阶段的设计，并影响到设计结果是否合理和实用<br><img src="https://blog-bed0.oss-cn-hangzhou.aliyuncs.com/1681204809736-284c58de-10f4-4e94-ab76-3686adf06970.png" alt="image.png"></p>
<h2 id="数据字典"><a href="#数据字典" class="headerlink" title="数据字典"></a>数据字典</h2><ul>
<li>数据字典是关于数据库中数据的描述，即元数据，不是数据本身</li>
<li>数据字典在需求分析阶段建立，在数据库设计过程中不断修改、充实、完善</li>
<li>数据字典是进行详细的数据收集和数据分析所获得的主要结果</li>
</ul>
<p><img src="https://blog-bed0.oss-cn-hangzhou.aliyuncs.com/1681204871053-0d137ff6-e91c-49c9-9e4e-73a19ed00dfc.png" alt="image.png"></p>
<h1 id="ch39-概念模型和ER模型"><a href="#ch39-概念模型和ER模型" class="headerlink" title="ch39 概念模型和ER模型"></a>ch39 概念模型和ER模型</h1><h2 id="概念模型"><a href="#概念模型" class="headerlink" title="概念模型"></a>概念模型</h2><p>在需求分析阶段所得到的应用需求应该首先抽象为信息世界的结构，然后才能更好、更准确地用某一数据库管理系统实现这些需求。<br />概念模型的主要特点是:</p>
<ul>
<li>能真实、充分地反映现实世界，包括事物和事物之间的联系，能满足用户对数据的处理要求，是现实世界的一个真实模型。</li>
<li>易于理解，可以用它和不熟悉计算机的用户交换意见。用户的积极参与是数据库设计成功的关键。</li>
<li>易于更改，当应用环境和应用要求改变时容易对概念模型修改和扩充。</li>
<li>易于向关系、网状、层次等各种数据模型转换。</li>
</ul>
<p>概念模型是各种数据模型的共同基础，它比数据模型更独立于机器、更抽象，从而更加稳定。描述概念模型的有力工具是E-R模型。</p>
<h2 id="E-R图"><a href="#E-R图" class="headerlink" title="E-R图"></a>E-R图</h2><p><img src="https://blog-bed0.oss-cn-hangzhou.aliyuncs.com/1681205211759-1118953d-1e34-4092-b02b-5f1ba3de30f0.png" alt="image.png"></p>
<p><img src="https://blog-bed0.oss-cn-hangzhou.aliyuncs.com/1681205232696-066b57a5-044d-4999-8fb2-280ec6d6bf61.png" alt="image.png"></p>
<p><img src="https://blog-bed0.oss-cn-hangzhou.aliyuncs.com/1681205382877-aa1446bf-24be-460e-8045-58967e121c80.png" alt="image.png"></p>
<h2 id="ISA联系"><a href="#ISA联系" class="headerlink" title="ISA联系"></a>ISA联系</h2><p><img src="https://blog-bed0.oss-cn-hangzhou.aliyuncs.com/1681201419874-cd39dd3c-b199-4643-8fe9-ec99ae7f2a44.png" alt="image.png"></p>
<h3 id="分类属性"><a href="#分类属性" class="headerlink" title="分类属性"></a>分类属性</h3><p><img src="https://blog-bed0.oss-cn-hangzhou.aliyuncs.com/1681201471401-8cd3c21f-0235-41bb-81c4-cbd8820dc611.png" alt="image.png"></p>
<ol>
<li>研究生和本科生放在同一张表中–数据的排他性，会导致空间的浪费</li>
<li>研究生和本科生放在两张表中–进行共有的操作时，需要同时对两张表进行操作</li>
<li>共有信息放在学生表中，特有信息放在研究生、本科生的两张表中–进行共有操作时，可以直接对学生表进行操作。进行特有操作时，只需要操作研究生或者本科生的一张表即可。但是如果需要一个完整的研究生记录，需要通过关键字进行连接（连接操作消耗时间大）</li>
</ol>
<h3 id="不相交约束与可重叠约束"><a href="#不相交约束与可重叠约束" class="headerlink" title="不相交约束与可重叠约束"></a>不相交约束与可重叠约束</h3><p>不相交：需要使用完整性约束条件，来实现排他性<br />学生：研究生、本科生<br />是否重叠：</p>
<ul>
<li>应用上进行检测</li>
<li>数据上自身的要求：可以使用触发器进行检测</li>
</ul>
<p>可重叠的：<br />鸟：大鸟、小鸟、益鸟、害鸟（有可能对于南方来说是益鸟，对于北方来说是害鸟）、候鸟、留鸟<br />麻雀：可以同时存放在多张子类表中，如果放在一张表上，利用率较高<br><img src="https://blog-bed0.oss-cn-hangzhou.aliyuncs.com/1681201686335-33cc0e89-4ef2-4b96-a37a-f1ef4bd3d8b4.png" alt="image.png"><br><strong>关键是时间复杂度和空间复杂度的平衡</strong></p>
<h3 id="完备性约束"><a href="#完备性约束" class="headerlink" title="完备性约束"></a>完备性约束</h3><p>如果是部分特化，则不能使用Union来操作研究生和本科生，因为研究生+本科生不等于学生<br><img src="https://blog-bed0.oss-cn-hangzhou.aliyuncs.com/1681201991062-9ac13b0f-78c6-402a-ac12-aab3544412c1.png" alt="image.png"></p>
<h2 id="基数约束"><a href="#基数约束" class="headerlink" title="基数约束"></a>基数约束</h2><p><img src="https://blog-bed0.oss-cn-hangzhou.aliyuncs.com/1681202197193-033c09d6-a8a7-4640-b108-df65eafd7d6b.png" alt="image.png"><br><code>30..40</code>：</p>
<ul>
<li>最少30个学生，最多40个学生，隶属于一个班级</li>
<li>即：一个班级最少30个学生，最多40个学生</li>
</ul>
<p><img src="https://blog-bed0.oss-cn-hangzhou.aliyuncs.com/1681202424458-acf5605d-324c-4f5a-85bd-646b77327f81.png" alt="image.png"></p>
<h2 id="Part-of-联系"><a href="#Part-of-联系" class="headerlink" title="Part-of 联系"></a>Part-of 联系</h2><p><img src="https://blog-bed0.oss-cn-hangzhou.aliyuncs.com/1681202591101-e2c7e1e7-39af-47f9-b5f7-a197777415ec.png" alt="image.png"><br>可以用随机数、foreign key（指代所依赖的实体的关键字）来区分不同的弱实体<br><img src="https://blog-bed0.oss-cn-hangzhou.aliyuncs.com/1681202920956-c891595d-9db1-494a-a1d5-2d453348eeb4.png" alt="image.png"></p>
<h1 id="ch40-概念结构设计"><a href="#ch40-概念结构设计" class="headerlink" title="ch40 概念结构设计"></a>ch40 概念结构设计</h1><h2 id="概念结构设计的方法"><a href="#概念结构设计的方法" class="headerlink" title="概念结构设计的方法"></a>概念结构设计的方法</h2><h3 id="自顶向下"><a href="#自顶向下" class="headerlink" title="自顶向下"></a>自顶向下</h3><p>用ER图描述数据字典<br />通过内模式、外模式、应用的概念来解耦，通过子概念来实现开发<br />缺点：不具有实际意义，难以估测系统的复杂程度<br><img src="https://blog-bed0.oss-cn-hangzhou.aliyuncs.com/1681203694275-513c8333-c98d-4dbd-921e-cac4c455ca3d.png" alt="image.png"></p>
<h3 id="自底向上"><a href="#自底向上" class="headerlink" title="自底向上"></a>自底向上</h3><p><img src="https://blog-bed0.oss-cn-hangzhou.aliyuncs.com/1681204312007-c2415420-2e56-4c2e-891c-7cf7ec9b61cc.png" alt="image.png"></p>
<h3 id="逐步扩张"><a href="#逐步扩张" class="headerlink" title="逐步扩张"></a>逐步扩张</h3><p><img src="https://blog-bed0.oss-cn-hangzhou.aliyuncs.com/1681204896550-e6aa7f45-102d-4945-ae0a-ca6787dff68d.png" alt="image.png"></p>
<h3 id="混合策略"><a href="#混合策略" class="headerlink" title="混合策略"></a>混合策略</h3><p>将自顶向下和自底向上相结合，用自顶向下策略设计一个全局概念结构的框架，以它为骨架集成由自底向上策略中设计的各局部概念结构。<br />常用策略</p>
<ul>
<li><strong>自顶向下地进行需求分析</strong></li>
<li><strong>自底向上地设计概念结构</strong></li>
</ul>
<p><img src="https://blog-bed0.oss-cn-hangzhou.aliyuncs.com/1681205068930-8a252a58-db0c-4b84-b5d5-d285fe4b44ca.png" alt="image.png"></p>
<h2 id="概念结构设计的步骤"><a href="#概念结构设计的步骤" class="headerlink" title="概念结构设计的步骤"></a>概念结构设计的步骤</h2><p>自底向上设计概念结构的步骤</p>
<ul>
<li>第1步：抽象数据并设计局部视图</li>
<li>第2步：集成局部视图，得到全局概念结构</li>
</ul>
<p><img src="https://blog-bed0.oss-cn-hangzhou.aliyuncs.com/1686733098717-fd17e4ce-9617-4b44-adbc-9be45b402880.png" alt="image.png"></p>
<h2 id="实体与属性"><a href="#实体与属性" class="headerlink" title="实体与属性"></a>实体与属性</h2><p>实体与属性的划分原则</p>
<ul>
<li>为了简化E-R图的处置，现实世界的事物能作为属性对待的，尽量作为属性对待</li>
<li>两条准则：<ul>
<li><strong>作为属性，不能再具有需要描述的性质</strong>。属性必须是<strong>不可分的数据项</strong>，不能包含其他属性。</li>
<li><strong>属性不能与其他实体具有联系</strong>，即E-R图中所表示的联系是实体之间的联系。</li>
</ul>
</li>
</ul>
<p><img src="https://blog-bed0.oss-cn-hangzhou.aliyuncs.com/1681206076340-aeb80f64-303a-44f1-a134-1af0d622fe1f.png" alt="image.png"></p>
<p><img src="https://blog-bed0.oss-cn-hangzhou.aliyuncs.com/1681206541316-1d5dd792-f3cb-4c22-ac78-cd605c7f8f4b.png" alt="image.png"></p>
<h2 id="E-R图的集成"><a href="#E-R图的集成" class="headerlink" title="E-R图的集成"></a>E-R图的集成</h2><p><img src="https://blog-bed0.oss-cn-hangzhou.aliyuncs.com/1681207138626-3ea1ac33-d972-44d9-942c-3587157ced06.png" alt="image.png"><br>合并E-R图，生成初步E-R图<br />各个局部应用所面向的问题不同，各个子系统的E-R图之间必定会存在许多不一致的地方，称之为冲突。<br />子系统E-R图之间的冲突主要有三类：</p>
<ul>
<li>属性冲突</li>
<li>命名冲突</li>
<li>结构冲突</li>
</ul>
<h3 id="属性冲突"><a href="#属性冲突" class="headerlink" title="属性冲突"></a>属性冲突</h3><p>属性冲突</p>
<ul>
<li><strong>属性域冲突</strong>，即属性值的类型、取值范围或取值集合不同<ul>
<li>例如零件号，有的部门把它定义为整数，有的部门把它定义为字符型。</li>
<li>年龄，某些部门以出生日期形式表示职工的年龄，而另一些部门用整数表示职工的年龄。</li>
</ul>
</li>
<li><strong>属性取值单位冲突</strong><ul>
<li>例如，零件的重量有的以公斤为单位，有的以斤为单位，有的以克为单位。</li>
</ul>
</li>
</ul>
<h3 id="命名冲突"><a href="#命名冲突" class="headerlink" title="命名冲突"></a>命名冲突</h3><p>命名冲突</p>
<ul>
<li>同名异义，即不同意义的对象在不同的局部应用中具有相同的名字</li>
<li>异名同义（一义多名），即同一意义的对象在不同的局部应用中具有不同的名字。<ul>
<li>如对科研项目，财务科称为项目，科研处称为课题，生产管理处称为工程</li>
</ul>
</li>
<li>命名冲突<ul>
<li>可能发生在实体、联系一级上</li>
<li>也可能发生在属性一级上</li>
<li>通过讨论、协商等行政手段加以解决</li>
</ul>
</li>
</ul>
<h3 id="结构冲突"><a href="#结构冲突" class="headerlink" title="结构冲突"></a>结构冲突</h3><p>结构冲突</p>
<ul>
<li><strong>同一对象在不同应用中具有不同的抽象</strong><ul>
<li>例如，职工在某一局部应用中被当作实体，而在另一局部应用中则被当作属性。</li>
<li>解决方法：把属性变换为实体或把实体变换为属性，使同一对象具有相同的抽象。</li>
</ul>
</li>
<li><strong>同一实体在不同子系统的E-R图中所包含的属性个数和属性排列次序不完全相同</strong><ul>
<li>解决方法：使该实体的属性取各子系统的E-R图中属性的并集，再适当调整属性的次序。</li>
</ul>
</li>
<li><strong>实体间的联系在不同的E-R图中为不同的类型</strong><ul>
<li>实体E1与E2在一个E-R图中是多对多联系，在另一个E-R图中是一对多联系</li>
<li>解决方法：根据应用的语义对实体联系的类型进行综合或调整。</li>
</ul>
</li>
</ul>
<p><img src="https://blog-bed0.oss-cn-hangzhou.aliyuncs.com/1686733237638-db05c289-01ad-4953-ac6d-af11aaf5468d.png" alt="image.png"></p>
<h2 id="E-R图的修改和重构"><a href="#E-R图的修改和重构" class="headerlink" title="E-R图的修改和重构"></a>E-R图的修改和重构</h2><p>消除不必要的冗余，设计基本E-R图<br />所谓冗余的数据是指可由基本数据导出的数据，冗余的联系是指可由其他联系导出的联系。<br />消除冗余主要采用分析方法，即以数据字典和数据流图为依据，根据数据字典中关于数据项之间逻辑关系的说明来消除冗余。<br><img src="https://blog-bed0.oss-cn-hangzhou.aliyuncs.com/1686733482485-dbe6b9b3-423b-4581-91d9-19688f816646.png" alt="image.png"></p>
<h1 id="ch42-逻辑结构设计"><a href="#ch42-逻辑结构设计" class="headerlink" title="ch42 逻辑结构设计"></a>ch42 逻辑结构设计</h1><p>把概念结构设计阶段设计好的基本E-R图转换为与选用数据库管理系统产品所支持的数据模型相符合的逻辑结构<br />转换内容</p>
<ul>
<li>E-R图由实体型、实体的属性和实体型之间的联系三个要素组成</li>
<li>关系模型的逻辑结构是一组关系模式的集合</li>
<li>将E-R图转换为关系模型：将实体型、实体的属性和实体型之间的联系转化为关系模式</li>
</ul>
<p>一个实体型转换为一个关系模式。<br />关系的属性：实体的属性<br />关系的码：实体的码</p>
<h2 id="关系数据模型的优化"><a href="#关系数据模型的优化" class="headerlink" title="关系数据模型的优化"></a>关系数据模型的优化</h2><p>确定数据依赖</p>
<ul>
<li>按需求分析阶段所得到的语义，分别写出每个关系模式内部各属性之间的数据依赖以及不同关系模式属性之间数据依赖。</li>
</ul>
<p>对于各个关系模式之间的数据依赖进行极小化处理，消除冗余的联系。<br />按照数据依赖的理论对关系模式进行分析，考察是否存在部分函数依赖、传递函数依赖、多值依赖等，确定各关系模式分别属于第几范式。<br />按照需求分析阶段得到的各种应用对数据处理的要求，分析对于这样的应用环境这些模式是否合适，确定是否要对它们进行合并或分解。<br /><strong>并不是规范化程度越高的关系就越优</strong></p>
<ul>
<li>当查询经常涉及两个或多个关系模式的属性时，系统必须经常地进行连接运算</li>
<li><strong>连接运算的代价是相当高的</strong></li>
<li>因此在这种情况下，第二范式甚至第一范式也许是适合的。</li>
<li>非BCNF的关系模式虽然会存在不同程度的更新异常，但如果在实际应用中对此关系模式只是查询，并不执行更新操作，就不会产生实际影响。</li>
<li>对于一个具体应用来说，到底规范化进行到什么程度，<strong>需要权衡响应时间和潜在问题</strong>两者的利弊才能决定</li>
</ul>
<h2 id="关系模式的分解"><a href="#关系模式的分解" class="headerlink" title="关系模式的分解"></a>关系模式的分解</h2><p>对关系模式进行必要分解，提高数据操作效率和存储空间的利用率。<br />常用分解方法</p>
<ul>
<li>水平分解</li>
<li>垂直分解</li>
</ul>
<h3 id="水平分解"><a href="#水平分解" class="headerlink" title="水平分解"></a>水平分解</h3><p>把(基本)关系的元组分为若干子集合，定义每个子集合为一个子关系，以提高系统的效率。<br />如何分解</p>
<ul>
<li>对符合“80&#x2F;20原则”的，把经常被使用的数据（约20%）水平分解出来，形成一个子关系。</li>
<li>水平分解为若干子关系，使每个事务存取的数据对应一个子关系。</li>
</ul>
<h3 id="垂直分解"><a href="#垂直分解" class="headerlink" title="垂直分解"></a>垂直分解</h3><p>把关系模式R的属性分解为若干子集合，形成若干子关系模式。<br />垂直分解的原则：经常在一起使用的属性从R中分解出来形成一个子关系模式<br />垂直分解的优点</p>
<ul>
<li><strong>可以提高某些事务的效率</strong></li>
</ul>
<p>垂直分解的缺点</p>
<ul>
<li><strong>可能使另一些事务不得不执行连接操作，降低了效率</strong></li>
</ul>
<p>垂直分解的适用范围</p>
<ul>
<li>取决于分解后R上的所有事务的总效率是否得到了提高</li>
</ul>
<p>进行垂直分解的方法</p>
<ul>
<li>简单情况：直观分解</li>
<li>复杂情况：用模式分解算法垂直分解必须不损失关系模式的语义（保持无损连接性和保持函数依赖）</li>
</ul>
<h2 id="设计用户子模式"><a href="#设计用户子模式" class="headerlink" title="设计用户子模式"></a>设计用户子模式</h2><p>定义数据库模式主要是从系统的时间效率、空间效率、易维护等角度出发。<br />定义用户外模式时应该更注重考虑用户的习惯与方便。包括三个方面：</p>
<ul>
<li><strong>使用更符合用户习惯的别名</strong></li>
</ul>
<p>合并各分E-R图曾做了消除命名冲突的工作，以使数据库系统中同一关系和属性具有唯一的名字。这在设计数据库整体结构时是非常必要的。<br />用视图机制可以在设计用户视图时可以重新定义某些属性名，使其与用户习惯一致，以方便使用。</p>
<ul>
<li><strong>针对不同级别的用户定义不同的视图，以保证系统的安全性</strong></li>
</ul>
<p>假设有关系模式产品（产品号，产品名，规格，单价，生产车间，生产负责人，产品成本，产品合格率，质量等级），可以在产品关系上建立两个视图：<br />为一般顾客建立视图：产品1（产品号，产品名，规格，单价）<br />为产品销售部门建立视图：产品2（产品号，产品名，规格，单价，车间，生产负责人）</p>
<ul>
<li><strong>简化用户对系统的使用</strong></li>
</ul>
<p>如果某些局部应用中经常要使用某些很复杂的查询，为了方便用户，可以将这些复杂查询定义为视图</p>
<h1 id="ch43-物理结构设计"><a href="#ch43-物理结构设计" class="headerlink" title="ch43 物理结构设计"></a>ch43 物理结构设计</h1><h2 id="数据库的物理设计"><a href="#数据库的物理设计" class="headerlink" title="数据库的物理设计"></a>数据库的物理设计</h2><p>数据库在物理设备上的存储结构与存取方法称为数据库的物理结构，它依赖于选定的数据库管理系统。<br />为一个给定的逻辑数据模型选取一个最适合应用要求的物理结构的过程，就是数据库的物理设计。<br />数据库物理设计的步骤</p>
<ol>
<li>确定数据库的物理结构，在关系数据库中主要指存取方法和存储结构; </li>
<li>对物理结构进行评价，评价的重点是时间和空间效率 </li>
<li>若评价结果满足原设计要求，则可进入到物理实施阶段。</li>
<li>否则，就需要重新设计或修改物理结构，有时甚至要返回逻辑设计阶段修改数据模型。</li>
</ol>
<h2 id="关系模式存取方法选择"><a href="#关系模式存取方法选择" class="headerlink" title="关系模式存取方法选择"></a>关系模式存取方法选择</h2><p>数据库系统是多用户共享的系统，对同一个关系要建立多条存取路径才能满足多用户的多种应用要求。<br />物理结构设计的任务之一是根据关系数据库管理系统支持的存取方法确定选择哪些存取方法。<br />数据库管理系统常用存取方法</p>
<ul>
<li>B+树索引存取方法</li>
<li>Hash索引存取方法</li>
<li>聚簇存取方法<blockquote>
<p><strong>数据库索引是存储引擎用于快速找到记录的一种数据结构</strong>。 《高性能MySQL》</p>
</blockquote>
</li>
</ul>
<p>索引可以根据一定的规则和算法，把数据的关键字或者范围映射到一个特定的数据结构中，比如B+树或者哈希表。这样，<strong>当我们需要查找数据时，就不需要遍历整个数据库表，而是可以根据索引的规则和算法，快速地定位到数据所在的位置。</strong></p>
<h3 id="B-树索引存取方法"><a href="#B-树索引存取方法" class="headerlink" title="B+树索引存取方法"></a>B+树索引存取方法</h3><p>选择索引存取方法的主要内容：根据应用要求确定</p>
<ul>
<li>对哪些属性列建立索引</li>
<li>对哪些属性列建立组合索引</li>
<li>对哪些索引要设计为唯一索引</li>
</ul>
<p>选择索引存取方法的一般规则</p>
<ul>
<li>如果一个（或一组）属性经常在查询条件中出现，则考虑在这个（或这组）属性上建立索引（或组合索引）</li>
<li>如果一个属性经常作为最大值和最小值等聚集函数的参数，则考虑在这个属性上建立索引</li>
<li>如果一个（或一组）属性经常在连接操作的连接条件中出现，则考虑在这个（或这组）属性上建立索引</li>
</ul>
<p>关系上定义的索引数过多会带来较多的额外开销（维护、查找索引的开销)<br><img src="https://blog-bed0.oss-cn-hangzhou.aliyuncs.com/1686741310969-482d83c8-a1ae-4004-9612-236824ea2102.png"></p>
<p><img src="https://blog-bed0.oss-cn-hangzhou.aliyuncs.com/1686741292283-7e939afe-d715-4b0c-964e-903194da790f.webp"><br><strong>为什么官方建议使用自增长主键作为索引。</strong><br /><strong>结合B+Tree的特点，自增主键是连续的，在插入过程中尽量减少页分裂，即使要进行页分裂，也只会分裂很少一部分。并且能减少数据的移动，每次插入都是插入到最后。总之就是减少分裂和移动的频率。</strong><br />插入连续的数据：<br /><img src="https://blog-bed0.oss-cn-hangzhou.aliyuncs.com/1686741336911-b1fa99eb-dbca-450a-b4c0-69525ff4077f.gif"><br>插入非连续的数据<br /><img src="https://blog-bed0.oss-cn-hangzhou.aliyuncs.com/1686741326227-3b4b18b3-b831-4ad5-b0a6-7d787379aec7.gif"></p>
<h3 id="HASH存取方法的选择"><a href="#HASH存取方法的选择" class="headerlink" title="HASH存取方法的选择"></a>HASH存取方法的选择</h3><p>选择Hash存取方法的规则<br />如果一个关系的属性主要出现在等值连接条件中或主要出现在等值比较选择条件中，而且满足下列两个条件之一</p>
<ul>
<li>该关系的大小可预知，而且不变； </li>
<li>该关系的大小动态改变，但所选用的数据库管理系统提供了动态Hash存取方法。</li>
</ul>
<p>基于哈希表实现，只有精确匹配索引所有列的查询才有效，对于每一行数据，存储引擎都会对所有的索引列计算一个哈希码（hash code），并且Hash索引将所有的哈希码存储在索引中，同时在索引表中保存指向每个数据行的指针。<br /><img src="https://blog-bed0.oss-cn-hangzhou.aliyuncs.com/1686741161207-9519f37c-e93f-4984-b2b2-fb18d13ddc3a.png"><br>哈希索引优点</p>
<ol>
<li><strong>快速查询：参与索引的字段只要进行Hash运算之后就可以快速定位到该记录，时间复杂度约为1</strong></li>
</ol>
<p>哈希索引缺点</p>
<ol>
<li>哈希索引只包含哈希值和行指针，所以不能用索引中的值来避免读取行</li>
<li>哈希索引数据<strong>并不是按照索引值顺序存储的，所以也就无法用于排序和范围查询</strong></li>
<li>哈希索引<strong>也不支持部分索引列查询，因为哈希索引始终是使用索引列的全部数据进行哈希计算的</strong>。</li>
<li>哈希索引只支持等值比较查询，如&#x3D;，IN()，&lt;&#x3D;&gt;操作</li>
<li><strong>如果哈希冲突较多，一些索引的维护操作的代价也会更高</strong></li>
</ol>
<h3 id="聚簇"><a href="#聚簇" class="headerlink" title="聚簇"></a>聚簇</h3><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/zhizhengguan/article/details/120834883">mysql 聚簇索引</a><br><strong>为了提高某个属性（或属性组）的查询速度，把这个或这些属性（称为聚簇码）上具有相同值的元组集中存放在连续的物理块中称为聚簇。</strong><br />该属性（或属性组）称为聚簇码（cluster key）<br /><strong>聚簇的用途：大大提高按聚簇属性进行查询的效率</strong><br />[例] 假设学生关系按所在系建有索引，现在要查询信息系的所有学生名单。</p>
<ul>
<li>计算机系的500名学生分布在500个不同的物理块上时，至少要执行500次I&#x2F;O操作。</li>
<li>如果将同一系的学生元组集中存放，则每读一个物理块可得到多个满足查询条件的元组，从而显著地减少了访问磁盘的次数。</li>
</ul>
<h3 id="聚簇存取方法的选择"><a href="#聚簇存取方法的选择" class="headerlink" title="聚簇存取方法的选择"></a>聚簇存取方法的选择</h3><p>聚簇<br /><strong>聚簇索引的叶子节点就是数据节点，也就是说索引和数据行在一起；反之，如果叶子节点没有存储数据行，那么就是非聚簇索引。</strong><br />既适用于单个关系独立聚簇<br />也适用于经常进行连接操作的多个关系</p>
<ul>
<li><strong>把多个连接的元组按连接属性值聚集存放</strong></li>
<li><strong>从而实现多个关系的“预连接”，提高连接操作的效率。</strong></li>
</ul>
<p>选择聚簇存储方法，即确定需要建立多少个聚簇，每个聚簇中包含哪些关系</p>
<ul>
<li><strong>一个数据库可以建立多个聚簇，一个关系只能加入一个聚簇</strong>。<blockquote>
<p>我们知道聚簇索引中包含了数据行，那么如果有多个聚簇索引，就说明存储了多份相同的数据行，岂不浪费空间？</p>
</blockquote>
</li>
</ul>
<p>设计候选聚簇</p>
<ul>
<li>常在一起进行连接操作的关系可以建立组合聚簇</li>
<li>如果一个关系的一组属性经常出现在相等比较条件中，则该单个关系可建立聚簇；</li>
<li>如果一个关系的一个（或一组）属性上的值重复率很高，则此单个关系可建立聚簇。</li>
</ul>
<p>检查候选聚簇中的关系，取消其中不必要的关系</p>
<ul>
<li>从聚簇中删除经常进行全表扫描的关系</li>
<li>从聚簇中删除更新操作远多于连接操作的关系</li>
<li>从聚簇中删除重复出现的关系</li>
<li>当一个关系同时加入多个聚簇时，必须从这多个聚簇方案（包括不建立聚簇）中选择一个较优的，即在这个聚簇上运行各种事务的总代价最小。</li>
</ul>
<p>聚簇的局限性 </p>
<ul>
<li>聚簇只能提高某些特定应用的性能</li>
<li>建立与维护聚簇的开销相当大<ul>
<li><p><strong>对已有关系建立聚簇，将导致关系中元组的物理存储位置移动，并使此关系上原有的所有索引无效，必须重建。</strong></p>
<blockquote>
<p>如果我们在Cars表上创建一个聚簇索引在Id列上，那么<strong>Cars表的数据行将根据Id列的值重新排序和存储</strong>。这样就改变了数据行的物理存储位置。同时，由于数据行的位置发生了变化，<strong>Cars表上原来的非聚簇索引也将失效，因为它指向的数据行的位置不对了</strong>。因此，需要重新创建这个非聚簇索引，以便它能正确地指向数据行的新位置。</p>
</blockquote>
</li>
<li><p><strong>当一个元组的聚簇码改变时，该元组的存储位置也要做相应改变</strong>。</p>
</li>
</ul>
</li>
</ul>
<blockquote>
<p>假设我们有一个Cars表，它有一个聚簇索引在Id列上。Cars表的数据行是以B-tree的方式存储的，它们按照Id列的值排序。现在，如果我们修改一个数据行的Id列的值，例如把第一行的Id从1改为9，那么这个数据行将根据新的Id值重新排序和存储。这样就改变了数据行的物理存储位置。<strong>这是因为聚簇索引要求表中的数据行按照聚簇索引键值的顺序存储，如果键值发生了变化，就必须调整数据行的位置，以保持顺序。</strong></p>
</blockquote>
<ul>
<li>当通过聚簇码进行访问或连接是该关系的主要应用，与聚簇码无关的其他访问很少或者是次要的时，可以使用聚簇<ul>
<li>尤其当SQL语句中包含有与聚簇码有关的ORDER BY, GROUP BY, UNION, DISTINCT等子句或短语时，使用聚簇特别有利，可以省去或减化对结果集的排序操作</li>
</ul>
</li>
</ul>
<p><img src="https://blog-bed0.oss-cn-hangzhou.aliyuncs.com/1686742070326-12040a1e-ca37-4866-bf94-ff01c562ac1c.png"></p>
<h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><ol>
<li><p>B+树索引是一种将数据的键值按照一定的顺序存储在一个多层的树形结构中的存储方式，<strong>它的特点是支持范围查询和排序，也适合频繁更新的数据，但是查询速度不如哈希索引快。</strong>B+树索引可以是基于主键或非主键的，也可以是单列或多列的组合。</p>
</li>
<li><p>Hash索引是一种将数据的键值通过哈希函数映射到一个哈希表中的存储方式，<strong>它的特点是查询速度非常快，但是不支持范围查询和排序，也不适合频繁更新的数据。</strong>Hash索引通常是基于某个单列或多列的组合的，因为哈希函数需要输入一个确定的值。</p>
<blockquote>
<p>Hash索引找到了索引并不一定就找到了数据，因为<strong>Hash索引的哈希表中存储的是数据的键值和指向数据的指针，而不是数据本身。</strong><br>如果查询的列就是Hash索引的列，那么可以直接返回键值，不需要再访问数据。<br>但是如果查询的列不是Hash索引的列，那么还需要根据指针去访问数据，这就需要回表查询。<br>例如，一个用户表，如果以用户名作为Hash索引，那么当查询用户名时，可以直接返回键值，不需要回表查询。但是如果查询用户的其他信息，比如年龄、性别等，那么还需要根据指针去访问数据，这就需要回表查询。</p>
</blockquote>
</li>
<li><p>聚簇索引是一种将数据和索引放在一起的存储方式，它的特点是<strong>数据的物理存放顺序和索引的顺序是一致的，找到索引就找到了数据</strong>。聚簇索引通常是基于主键的，因为主键是唯一且不变的，适合作为聚簇索引</p>
</li>
<li><p>聚簇索引是可以使用B+树索引的，但不能使用Hash索引的。因为Hash索引的特点是将数据的键值通过哈希函数映射到一个哈希表中，而哈希表中的数据是无序的，不能保证数据的物理存放顺序和索引顺序一致。</p>
</li>
</ol>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://austynding.github.io/">Austyn Ding</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://austynding.github.io/2023/06/15/%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86%E5%9F%BA%E7%A1%80/%E8%AF%BE%E7%A8%8B%E5%86%85%E5%AE%B9/Chapter07%20-%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1/">https://austynding.github.io/2023/06/15/%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86%E5%9F%BA%E7%A1%80/%E8%AF%BE%E7%A8%8B%E5%86%85%E5%AE%B9/Chapter07%20-%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://austynding.github.io" target="_blank">丁丁的小窝(*^_^*)</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://blog-bed0.oss-cn-hangzhou.aliyuncs.com/avatar.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/06/15/%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86%E5%9F%BA%E7%A1%80/%E8%AF%BE%E7%A8%8B%E5%86%85%E5%AE%B9/Chapter05%20-%20%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%8C%E6%95%B4%E6%80%A7/" title="Chapter05 - 数据库完整性"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Chapter05 - 数据库完整性</div></div></a></div><div class="next-post pull-right"><a href="/2023/06/15/%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86%E5%9F%BA%E7%A1%80/%E8%AF%BE%E7%A8%8B%E5%86%85%E5%AE%B9/Chapter06%20-%20%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E7%90%86%E8%AE%BA/" title="Chapter06 - 关系数据理论"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Chapter06 - 关系数据理论</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://blog-bed0.oss-cn-hangzhou.aliyuncs.com/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Austyn Ding</div><div class="author-info__description">Have a fun!</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">89</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">11</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/AustynDing"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/AustynDing" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:dingding.0825@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#ch37-%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E6%A6%82%E8%BF%B0"><span class="toc-number">1.</span> <span class="toc-text">ch37 数据库设计概述</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ch38-%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90"><span class="toc-number">2.</span> <span class="toc-text">ch38 需求分析</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90"><span class="toc-number">2.1.</span> <span class="toc-text">需求分析</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%AD%97%E5%85%B8"><span class="toc-number">2.2.</span> <span class="toc-text">数据字典</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ch39-%E6%A6%82%E5%BF%B5%E6%A8%A1%E5%9E%8B%E5%92%8CER%E6%A8%A1%E5%9E%8B"><span class="toc-number">3.</span> <span class="toc-text">ch39 概念模型和ER模型</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5%E6%A8%A1%E5%9E%8B"><span class="toc-number">3.1.</span> <span class="toc-text">概念模型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#E-R%E5%9B%BE"><span class="toc-number">3.2.</span> <span class="toc-text">E-R图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ISA%E8%81%94%E7%B3%BB"><span class="toc-number">3.3.</span> <span class="toc-text">ISA联系</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E7%B1%BB%E5%B1%9E%E6%80%A7"><span class="toc-number">3.3.1.</span> <span class="toc-text">分类属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8D%E7%9B%B8%E4%BA%A4%E7%BA%A6%E6%9D%9F%E4%B8%8E%E5%8F%AF%E9%87%8D%E5%8F%A0%E7%BA%A6%E6%9D%9F"><span class="toc-number">3.3.2.</span> <span class="toc-text">不相交约束与可重叠约束</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%8C%E5%A4%87%E6%80%A7%E7%BA%A6%E6%9D%9F"><span class="toc-number">3.3.3.</span> <span class="toc-text">完备性约束</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%95%B0%E7%BA%A6%E6%9D%9F"><span class="toc-number">3.4.</span> <span class="toc-text">基数约束</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Part-of-%E8%81%94%E7%B3%BB"><span class="toc-number">3.5.</span> <span class="toc-text">Part-of 联系</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ch40-%E6%A6%82%E5%BF%B5%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1"><span class="toc-number">4.</span> <span class="toc-text">ch40 概念结构设计</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">4.1.</span> <span class="toc-text">概念结构设计的方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B"><span class="toc-number">4.1.1.</span> <span class="toc-text">自顶向下</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A"><span class="toc-number">4.1.2.</span> <span class="toc-text">自底向上</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%90%E6%AD%A5%E6%89%A9%E5%BC%A0"><span class="toc-number">4.1.3.</span> <span class="toc-text">逐步扩张</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%B7%E5%90%88%E7%AD%96%E7%95%A5"><span class="toc-number">4.1.4.</span> <span class="toc-text">混合策略</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E7%9A%84%E6%AD%A5%E9%AA%A4"><span class="toc-number">4.2.</span> <span class="toc-text">概念结构设计的步骤</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E4%BD%93%E4%B8%8E%E5%B1%9E%E6%80%A7"><span class="toc-number">4.3.</span> <span class="toc-text">实体与属性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#E-R%E5%9B%BE%E7%9A%84%E9%9B%86%E6%88%90"><span class="toc-number">4.4.</span> <span class="toc-text">E-R图的集成</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E5%86%B2%E7%AA%81"><span class="toc-number">4.4.1.</span> <span class="toc-text">属性冲突</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%91%BD%E5%90%8D%E5%86%B2%E7%AA%81"><span class="toc-number">4.4.2.</span> <span class="toc-text">命名冲突</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E5%86%B2%E7%AA%81"><span class="toc-number">4.4.3.</span> <span class="toc-text">结构冲突</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#E-R%E5%9B%BE%E7%9A%84%E4%BF%AE%E6%94%B9%E5%92%8C%E9%87%8D%E6%9E%84"><span class="toc-number">4.5.</span> <span class="toc-text">E-R图的修改和重构</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ch42-%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1"><span class="toc-number">5.</span> <span class="toc-text">ch42 逻辑结构设计</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B%E7%9A%84%E4%BC%98%E5%8C%96"><span class="toc-number">5.1.</span> <span class="toc-text">关系数据模型的优化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%88%86%E8%A7%A3"><span class="toc-number">5.2.</span> <span class="toc-text">关系模式的分解</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B0%B4%E5%B9%B3%E5%88%86%E8%A7%A3"><span class="toc-number">5.2.1.</span> <span class="toc-text">水平分解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9E%82%E7%9B%B4%E5%88%86%E8%A7%A3"><span class="toc-number">5.2.2.</span> <span class="toc-text">垂直分解</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BE%E8%AE%A1%E7%94%A8%E6%88%B7%E5%AD%90%E6%A8%A1%E5%BC%8F"><span class="toc-number">5.3.</span> <span class="toc-text">设计用户子模式</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ch43-%E7%89%A9%E7%90%86%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1"><span class="toc-number">6.</span> <span class="toc-text">ch43 物理结构设计</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E7%89%A9%E7%90%86%E8%AE%BE%E8%AE%A1"><span class="toc-number">6.1.</span> <span class="toc-text">数据库的物理设计</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%BC%8F%E5%AD%98%E5%8F%96%E6%96%B9%E6%B3%95%E9%80%89%E6%8B%A9"><span class="toc-number">6.2.</span> <span class="toc-text">关系模式存取方法选择</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#B-%E6%A0%91%E7%B4%A2%E5%BC%95%E5%AD%98%E5%8F%96%E6%96%B9%E6%B3%95"><span class="toc-number">6.2.1.</span> <span class="toc-text">B+树索引存取方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HASH%E5%AD%98%E5%8F%96%E6%96%B9%E6%B3%95%E7%9A%84%E9%80%89%E6%8B%A9"><span class="toc-number">6.2.2.</span> <span class="toc-text">HASH存取方法的选择</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%81%9A%E7%B0%87"><span class="toc-number">6.2.3.</span> <span class="toc-text">聚簇</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%81%9A%E7%B0%87%E5%AD%98%E5%8F%96%E6%96%B9%E6%B3%95%E7%9A%84%E9%80%89%E6%8B%A9"><span class="toc-number">6.2.4.</span> <span class="toc-text">聚簇存取方法的选择</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93"><span class="toc-number">6.2.5.</span> <span class="toc-text">小结</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/06/15/%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86%E5%9F%BA%E7%A1%80/%E5%AE%9E%E9%AA%8C%E4%BD%9C%E4%B8%9A/Experiment7/" title="Experiment7">Experiment7</a><time datetime="2023-06-15T07:52:21.904Z" title="发表于 2023-06-15 15:52:21">2023-06-15</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/06/15/%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86%E5%9F%BA%E7%A1%80/%E5%AE%9E%E9%AA%8C%E4%BD%9C%E4%B8%9A/Experiment6/" title="Experiment6">Experiment6</a><time datetime="2023-06-15T07:52:21.901Z" title="发表于 2023-06-15 15:52:21">2023-06-15</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/06/15/%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86%E5%9F%BA%E7%A1%80/%E5%AE%9E%E9%AA%8C%E4%BD%9C%E4%B8%9A/Experiment5/" title="Experiment5">Experiment5</a><time datetime="2023-06-15T07:52:21.899Z" title="发表于 2023-06-15 15:52:21">2023-06-15</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/06/15/%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86%E5%9F%BA%E7%A1%80/%E5%AE%9E%E9%AA%8C%E4%BD%9C%E4%B8%9A/Experiment4/" title="Experiment4">Experiment4</a><time datetime="2023-06-15T07:52:21.898Z" title="发表于 2023-06-15 15:52:21">2023-06-15</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/06/15/%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86%E5%9F%BA%E7%A1%80/%E5%AE%9E%E9%AA%8C%E4%BD%9C%E4%B8%9A/Experiment3/" title="Experiment3">Experiment3</a><time datetime="2023-06-15T07:52:21.895Z" title="发表于 2023-06-15 15:52:21">2023-06-15</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2023 By Austyn Ding</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text"><a href="https://austynding.github.io/">Hi, welcome to my blog</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="true"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></body></html>